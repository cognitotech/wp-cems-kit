!function(){jQuery.noConflict(),function(e){var t;return t=e.fn.button.noConflict(),e.fn.bootstrapBtn=t}(jQuery),jQuery(document).ready(function(e){var t;return t=function(t,r,a,n){var o;return t.bootstrapBtn("loading"),o=e(a).find(n),o.fadeOut("slow"),e.post(wpdk_i18n.ajaxURL,"action="+r+"&"+e(a).serialize(),function(t){var n,i,s;return i=new WPDKAjaxResponse(t),s="",empty(i.error)?("get_customer_existed_action"===r?(s=i.message,n=e.parseJSON(i.data),e(a).find("input[name$='[email]']").prop("readOnly",!0),e(a).find("input[name$='[full_name]']").val(n.full_name).prop("readOnly",!0),e(a).find("input[name$='[phone]']").val(n.phone).prop("readOnly",!0),e(a).find("input[name$='[birthday]']").val(moment(n.birthday,"YYYY-MM-DD").format("DD-MM-YYYY")).prop("readOnly",!0)):s=i.message+"<br>"+i.data,o.removeClass("alert-danger").addClass("alert-success")):(s=i.error,o.removeClass("alert-success").addClass("alert-danger")),o.children(".error-response").html(s),o.fadeIn("slow"),e.scrollTo(o,800,{offset:-50})}).always(function(){return t.bootstrapBtn("reset")})},e("#event17-form,.subscriptionForm").bootstrapValidator({fields:{"customer[birthday]":{validators:{trigger:"change keyup",callback:{message:"Bạn phải ít nhất 10 tuổi",callback:function(e){var t,r;return r=new moment(e,"DD-MM-YYYY",!0),r.isValid()?(t=moment().diff(r,"years"),t>=10):!1}}}}}}).on("success.form.bv",function(r){var a;return r.preventDefault(),a=e(r.target),t(a.find("[type=submit]:not(.bv-hidden-submit)"),"register_new_event_action",a,"#cems-alert")}),e("#customer-birthday").datepicker({autoclose:"true"}).on("changeDate show",function(){return e(this).closest("form").bootstrapValidator("revalidateField","customer[birthday]")}),e(".btn-check-exist").click(function(){var r,a;return r=e(this).closest("form"),a=r.data("bootstrapValidator"),a.isValidField("customer[email]")?t(r.find(".btn-check-exist"),"get_customer_existed_action",r,".cems-notify-customer"):(a.revalidateField("customer[email]"),void 0)}),e(".btn-reset").click(function(t){var r;return t.preventDefault(),r=e(this).closest("form"),r.find(".alert").hide(),r[0].reset(),r.find("input").prop("readOnly",!1),r.data("bootstrapValidator").resetForm(!0)}),e(".subscriptionForm").bootstrapValidator().on("success.form.bv",function(r){var a;return r.preventDefault(),a=e(r.target),t(a.find("[type=submit]:not(.bv-hidden-submit)"),"new_subscription_action",a,".cems-alert")}),e("input[name$='birthday']").datepicker({autoclose:"true"}).on("changeDate show",function(){return e(this).closest("form").bootstrapValidator("revalidateField","customer[birthday]")})})}.call(this);