!function(){jQuery.noConflict(),function(e){var t;return t=e.fn.button.noConflict(),e.fn.bootstrapBtn=t}(jQuery),jQuery(document).ready(function($){var CEMSAjaxCall;return $("input, textarea").placeholder(),CEMSAjaxCall=function(submitBtn,cems_action,form,alert_box){var $alert;return submitBtn.bootstrapBtn("loading"),$alert=$(form).find(alert_box),$alert.fadeOut("slow"),$.post(wpdk_i18n.ajaxURL,"action="+cems_action+"&"+$(form).serialize(),function(result){var data,response,textResponse;return response=new WPDKAjaxResponse(result),textResponse="",empty(response.error)?("get_customer_existed_action"===cems_action?(textResponse=response.message,data=$.parseJSON(response.data),$(form).find("input[name$='[email]']").prop("readOnly",!0),$(form).find("input[name$='[full_name]']").val(data.full_name).prop("readOnly",!0),$(form).find("input[name$='[phone]']").val(data.phone).prop("readOnly",!0),$(form).find("input[name$='[birthday]']").val(moment(data.birthday,"YYYY-MM-DD").format("DD-MM-YYYY")).prop("readOnly",!0)):textResponse=response.message+"<br>"+response.data,$alert.removeClass("alert-danger").addClass("alert-success")):(textResponse=response.error,$alert.removeClass("alert-success").addClass("alert-danger")),$alert.children(".error-response").html(textResponse),$alert.children(".error-response").find("script").each(function(i){return eval($(this).text())}),$alert.fadeIn("slow"),$.scrollTo($alert,800,{offset:-50})}).always(function(){return submitBtn.bootstrapBtn("reset")})},$("#event17-form, .subscriptionForm, .subscriptionQuiz").bootstrapValidator({fields:{"customer[birthday]":{validators:{trigger:"change keyup",callback:{message:"Bạn phải ít nhất 10 tuổi",callback:function(e){var t,r;return r=new moment(e,"DD-MM-YYYY",!0),r.isValid()?(t=moment().diff(r,"years"),t>=10):!1}}}}}}),$("#event17-form").bootstrapValidator().on("success.form.bv",function(e){var t;return e.preventDefault(),t=$(e.target),CEMSAjaxCall(t.find("[type=submit]:not(.bv-hidden-submit)"),"register_new_event_action",t,"#cems-alert")}),$("#customer-birthday").datepicker({autoclose:"true",orientation:"bottom right"}).on("changeDate show",function(){return $(this).closest("form").bootstrapValidator("revalidateField","customer[birthday]")}),$(".btn-check-exist").click(function(){var e,t;return e=$(this).closest("form"),t=e.data("bootstrapValidator"),t.isValidField("customer[email]")?CEMSAjaxCall(e.find(".btn-check-exist"),"get_customer_existed_action",e,".cems-notify-customer"):(t.revalidateField("customer[email]"),void 0)}),$(".btn-reset").click(function(e){var t;return e.preventDefault(),t=$(this).closest("form"),t.find(".alert").hide(),t[0].reset(),t.find("input").prop("readOnly",!1),t.data("bootstrapValidator").resetForm(!0)}),$(".subscriptionForm").bootstrapValidator().on("success.form.bv",function(e){var t;return e.preventDefault(),t=$(e.target),CEMSAjaxCall(t.find("[type=submit]:not(.bv-hidden-submit)"),"new_subscription_action",t,".cems-alert")}),$(".subscriptionQuiz").bootstrapValidator().on("success.form.bv",function(e){var t;return e.preventDefault(),t=$(e.target),CEMSAjaxCall(t.find("[type=submit]:not(.bv-hidden-submit)"),"subscribe_for_quiz_action",t,".cems-alert")}),$("input[name$='birthday']").datepicker({autoclose:"true",orientation:"bottom right"}).on("changeDate show",function(){return $(this).closest("form").bootstrapValidator("revalidateField","customer[birthday]")})})}.call(this);